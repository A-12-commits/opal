# Opal

**Opal is a ruby to javascript compiler.** Opal aims to take ruby files
and generate efficient javascript that maintains rubys features. Opal
will, by default, generate fast and efficient code in preference to
keeping all ruby features.

Opal comes with an implementation of the ruby corelib, written in ruby,
that uses a bundled runtime (written in javascript) that tie all the
features together. Whenever possible Opal bridges to native javascript
features under the hood. The Opal gem includes the compiler used to
convert ruby sources into javascript.

Opal is [hosted on github](http://github.com/adambeynon/opal), and there
is a Freenode IRC channel at `#opal`.

## Downloads

The Opal runtime and corelib are distributed here, and are required to
run any code generated by opal.

[Opal version 0.3.16](http://opalrb.org/opal.js) _(120kb
Uncompressed, 13.7kb Minified And Gzipped)_

## Installation

Opal comes distributed as a gem, so either install with:

```
gem install opal
```

Or add to your Gemfile:

``` ruby
gem "opal"
```

## Usage

Opal provides an **opal** command which can be used to compile ruby
sources into javascript. These can then be used in any
browser/javascript environment.

If you have a ruby source foo.rb:

``` ruby
# foo.rb
puts "Wow, running ruby"
```

Compile it into `foo.js` using:

```
opal -c foo.rb
```

You will see this in the output file:

``` js
// foo.js
(function() {
  // generated code
}).call(Opal.top);
```

The code is enclosed inside an anonymous function to stop any variables
leaking out into the global scope.

This generated file depends on the opal runtime, distributed as
`opal.js`. These files can be added to a HTML page:

``` html
<!DOCTYPE html>
<html>
  <head>
    <script src="opal.js"></script>
    <script src="foo.js"></script>
  </head>
  <body>
  </body>
</html>
```

Open this file and check out the browsers' console.

## Change Log

### Edge

* Added HEREDOCS support in parser
* Parser now handles masgn (mass/multi assignments)
* More useful DependencyBuilder class to build gems dependencies
* Blocks no longer passed as an argument in method calls

### 0.3.15

Initial Release.